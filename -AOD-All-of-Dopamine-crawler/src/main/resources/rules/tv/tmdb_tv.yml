# src/main/resources/rules/tv/tmdb_tv.yml

platformName: TMDB_TV
domain: TV                 # AV → TV로 변경
schemaVersion: 3

fieldMappings:
  # === Master & Platform Mappings ===
  name: master_title
  original_name: original_title
  poster_image_url: poster_image_url
  overview: synopsis
  first_air_date: release_date  # Content의 releaseDate 필드로 매핑됨 (TV는 첫 방영일)

  # === Domain Mappings (for domainDoc) ===
  genres: domain.genres
  number_of_seasons: domain.season_count
  episode_run_time: domain.episode_runtime
  cast: domain.cast

  # === Platform Attributes ===
  watch_providers: platform.attributes.watch_providers

domainObjectMappings:
  genres:
    targetField: genres
    type: list
  season_count:
    targetField: seasonCount
    type: integer
  episode_runtime:
    targetField: episodeRuntime
    type: integer
  cast:
    targetField: cast
    type: list

normalizers:
  - type: collapse_spaces
    fields: [master_title, original_title]
  - type: nfkc
    fields: [master_title, original_title]
