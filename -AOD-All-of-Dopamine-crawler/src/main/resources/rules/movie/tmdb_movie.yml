# src/main/resources/rules/movie/tmdb_movie.yml

platformName: TMDB_MOVIE
domain: MOVIE              # AV → MOVIE로 변경
schemaVersion: 3

fieldMappings:
  # === Master & Platform Mappings ===
  title: master_title
  original_title: original_title
  poster_image_url: poster_image_url
  overview: synopsis
  release_date: release_date  # Content의 releaseDate 필드로 매핑됨

  # === Domain Mappings (for domainDoc) ===
  genres: domain.genres
  runtime: domain.runtime
  directors: domain.directors
  cast: domain.cast

  # === Platform Attributes ===
  watch_providers: platform.attributes.watch_providers

domainObjectMappings:
  genres:
    targetField: genres
    type: list
  runtime:
    targetField: runtime
    type: integer
  directors:
    targetField: directors
    type: list
  cast:
    targetField: cast
    type: list

normalizers:
  - type: collapse_spaces
    fields: [master_title, original_title]
  - type: nfkc
    fields: [master_title, original_title]
