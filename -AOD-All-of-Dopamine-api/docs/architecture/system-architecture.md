# ğŸ—ï¸ AOD ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

## ğŸ“Š Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Client Layer                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   ì‚¬ìš©ì Web App          â”‚         â”‚   ê´€ë¦¬ì Admin Panel      â”‚         â”‚
â”‚  â”‚  (React/Vite - 3000)     â”‚         â”‚  (React/Vite - 3001)     â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ - ì½˜í…ì¸  íƒìƒ‰/ê²€ìƒ‰        â”‚         â”‚ - í¬ë¡¤ë§ ì œì–´             â”‚         â”‚
â”‚  â”‚ - ê°œì¸í™” ì¶”ì²œ             â”‚         â”‚ - ë°°ì¹˜ ì²˜ë¦¬               â”‚         â”‚
â”‚  â”‚ - ë¶ë§ˆí¬/ë¦¬ë·°             â”‚         â”‚ - ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§         â”‚         â”‚
â”‚  â”‚ - ì‚¬ìš©ì í”„ë¡œí•„           â”‚         â”‚ - í†µê³„ ëŒ€ì‹œë³´ë“œ           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â†“                                     â†“                           â”‚
â”‚       (public)                            (admin only)                      â”‚
â”‚           â†“                                     â†“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                     â”‚
            â†“                                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           API Gateway Layer (ì„ íƒì‚¬í•­)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          Nginx / Kong / Spring Cloud Gateway                â”‚
â”‚  - ë¼ìš°íŒ… (ì‚¬ìš©ì API vs ê´€ë¦¬ì API)                                          â”‚
â”‚  - ë¡œë“œ ë°¸ëŸ°ì‹±                                                               â”‚
â”‚  - Rate Limiting                                                            â”‚
â”‚  - SSL/TLS ì¢…ë‹¨                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Application Layer                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                    â”‚   Backend API Server             â”‚                      â”‚
â”‚                    â”‚   (Spring Boot - 8080)           â”‚                      â”‚
â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
â”‚                    â”‚                                  â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 â”‚                                  â”‚                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   User API Module      â”‚  â”‚   Admin API Module             â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ @RestController        â”‚  â”‚ @RestController                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ /api/contents/**       â”‚  â”‚ /api/admin/**                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ /api/users/**          â”‚  â”‚ /api/crawl/**                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ /api/recommendations/**â”‚  â”‚ /api/batch/**                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ /api/interactions/**   â”‚  â”‚ /actuator/** (metrics)          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              Service Layer (Business Logic)                 â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ - ContentService                                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - RecommendationService                                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - UserService                                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - CrawlingService (Async)                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - BatchTransformService                                     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚           Background Processing Layer                        â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ ThreadPoolTaskExecutor (crawlerTaskExecutor)                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€ í¬ë¡¤ë§ ì›Œì»¤ (5-10 threads)                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€ ë°°ì¹˜ ì›Œì»¤ (ë³‘ë ¬ ì²˜ë¦¬)                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ @Scheduled Tasks                                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€ TMDB ìë™ ìˆ˜ì§‘ (ë§¤ì¼ 04:00)                             â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Data Layer                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Primary Database    â”‚    â”‚   Cache Layer         â”‚                    â”‚
â”‚  â”‚   (PostgreSQL)        â”‚    â”‚   (Redis - ì„ íƒì‚¬í•­)   â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚ - contents            â”‚    â”‚ - ì¶”ì²œ ê²°ê³¼ ìºì‹±      â”‚                    â”‚
â”‚  â”‚ - users               â”‚    â”‚ - ì„¸ì…˜ ê´€ë¦¬            â”‚                    â”‚
â”‚  â”‚ - webtoons/webnovels  â”‚    â”‚ - API ì‘ë‹µ ìºì‹±        â”‚                    â”‚
â”‚  â”‚ - games/movies/tvshowsâ”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚  â”‚ - platform_data       â”‚                                                  â”‚
â”‚  â”‚ - raw_items (ì„ì‹œ)    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ - interactions        â”‚    â”‚   File Storage        â”‚                    â”‚
â”‚  â”‚ - recommendations     â”‚    â”‚   (Local/S3)          â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚                                â”‚ - ì´ë¯¸ì§€/í¬ìŠ¤í„°       â”‚                    â”‚
â”‚                                â”‚ - í¬ë¡¤ë§ ë¡œê·¸         â”‚                    â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Monitoring & Observability                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Prometheus   â”‚  â”‚   Grafana    â”‚  â”‚ Alertmanager â”‚  â”‚  Logs        â”‚   â”‚
â”‚  â”‚ (ë©”íŠ¸ë¦­ ìˆ˜ì§‘) â”‚  â”‚ (ì‹œê°í™”)      â”‚  â”‚ (ì•Œë¦¼)        â”‚  â”‚ (Spring Log) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ë ˆì´ì–´ë³„ ìƒì„¸ ì„¤ê³„

### **1. Client Layer (í”„ë¡ íŠ¸ì—”ë“œ)**

#### 1ï¸âƒ£ ì‚¬ìš©ì Web App (`AOD-All-of-Dopamine-front`)

```typescript
í”„ë¡œì íŠ¸ êµ¬ì¡°:
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ HomePage.tsx              # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ ExplorePage.tsx           # ì½˜í…ì¸  íƒìƒ‰
â”‚   â”œâ”€â”€ ProfilePage.tsx           # ì‚¬ìš©ì í”„ë¡œí•„
â”‚   â”œâ”€â”€ RankingPage.tsx           # ë­í‚¹
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ BottomNav.tsx
â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ client.ts                 # Axios ì„¤ì •
â”‚   â”œâ”€â”€ contentApi.ts             # ì½˜í…ì¸  API
â”‚   â”œâ”€â”€ userApi.ts                # ì‚¬ìš©ì API
â”‚   â””â”€â”€ recommendationApi.ts      # ì¶”ì²œ API
â””â”€â”€ contexts/
    â””â”€â”€ AuthContext.tsx           # ì‚¬ìš©ì ì¸ì¦
```

**ì£¼ìš” ê¸°ëŠ¥:**
- ì½˜í…ì¸  ê²€ìƒ‰/íƒìƒ‰
- ê°œì¸í™” ì¶”ì²œ
- ë¶ë§ˆí¬/ì¢‹ì•„ìš”/ë¦¬ë·°
- ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬

**API ì—”ë“œí¬ì¸íŠ¸:**
- `GET /api/contents` - ì½˜í…ì¸  ëª©ë¡
- `GET /api/recommendations` - ì¶”ì²œ ì½˜í…ì¸ 
- `POST /api/interactions` - ì‚¬ìš©ì ìƒí˜¸ì‘ìš©
- `GET /api/users/me` - ë‚´ ì •ë³´

---

#### 2ï¸âƒ£ ê´€ë¦¬ì Admin Panel (`AOD-All-of-Dopamine-admin`) ğŸ†•

```typescript
í”„ë¡œì íŠ¸ êµ¬ì¡°:
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Dashboard.tsx             # ì¢…í•© ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ CrawlingPage.tsx          # í¬ë¡¤ë§ ê´€ë¦¬
â”‚   â”œâ”€â”€ BatchPage.tsx             # ë°°ì¹˜ ì²˜ë¦¬
â”‚   â”œâ”€â”€ MonitoringPage.tsx        # ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
â”‚   â””â”€â”€ StatisticsPage.tsx        # í†µê³„
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ CrawlButton.tsx
â”‚   â”œâ”€â”€ BatchProgressBar.tsx
â”‚   â”œâ”€â”€ MetricsChart.tsx
â”‚   â””â”€â”€ SystemHealthCard.tsx
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ adminClient.ts            # ê´€ë¦¬ì API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ crawlApi.ts               # í¬ë¡¤ë§ API
â”‚   â””â”€â”€ batchApi.ts               # ë°°ì¹˜ API
â””â”€â”€ layouts/
    â””â”€â”€ AdminLayout.tsx           # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ
```

**ì£¼ìš” ê¸°ëŠ¥:**
- í¬ë¡¤ë§ íŠ¸ë¦¬ê±°/ëª¨ë‹ˆí„°ë§
- ë°°ì¹˜ ì²˜ë¦¬ ì‹¤í–‰/ì¶”ì 
- ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ì‹œê°í™”
- í†µê³„ ëŒ€ì‹œë³´ë“œ

**API ì—”ë“œí¬ì¸íŠ¸:**
- `POST /api/crawl/**` - í¬ë¡¤ë§ ì‹¤í–‰
- `POST /api/batch/**` - ë°°ì¹˜ ì²˜ë¦¬
- `GET /actuator/metrics` - ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­
- `GET /actuator/health` - í—¬ìŠ¤ì²´í¬

---

### **2. Application Layer (ë°±ì—”ë“œ)**

#### ğŸ“¦ íŒ¨í‚¤ì§€ êµ¬ì¡°

```
com.example.AOD/
â”œâ”€â”€ api/                          # ì‚¬ìš©ì API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ ContentController
â”‚   â”œâ”€â”€ UserController
â”‚   â”œâ”€â”€ RecommendationController
â”‚   â””â”€â”€ InteractionController
â”‚
â”œâ”€â”€ admin/                        # ê´€ë¦¬ì API
â”‚   â””â”€â”€ controller/
â”‚       â””â”€â”€ AdminTestController   # í¬ë¡¤ë§/ë°°ì¹˜ ì œì–´
â”‚
â”œâ”€â”€ contents/                     # ë„ë©”ì¸ë³„ í¬ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ Webtoon/
â”‚   â”‚   â””â”€â”€ NaverWebtoon/
â”‚   â”œâ”€â”€ Novel/
â”‚   â”‚   â”œâ”€â”€ NaverSeriesNovel/
â”‚   â”‚   â””â”€â”€ KakaoPageNovel/
â”‚   â”œâ”€â”€ TMDB/                     # ì˜í™”/TV
â”‚   â””â”€â”€ game/steam/               # ê²Œì„
â”‚
â”œâ”€â”€ service/                      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ ContentService
â”‚   â”œâ”€â”€ RecommendationService
â”‚   â”œâ”€â”€ UserService
â”‚   â”œâ”€â”€ UpsertService
â”‚   â””â”€â”€ similarity/
â”‚
â”œâ”€â”€ ingest/                       # ë°ì´í„° ìˆ˜ì§‘/ì²˜ë¦¬
â”‚   â”œâ”€â”€ CollectorService          # raw_items ì €ì¥
â”‚   â”œâ”€â”€ BatchTransformService     # ê¸°ì¡´ ë°°ì¹˜ ì²˜ë¦¬
â”‚   â”œâ”€â”€ BatchTransformServiceOptimized  # ìµœì í™” ë²„ì „
â”‚   â””â”€â”€ RawItemRepository
â”‚
â”œâ”€â”€ config/                       # ì„¤ì •
â”‚   â”œâ”€â”€ AsyncConfig              # ë¹„ë™ê¸° ìŠ¤ë ˆë“œí’€
â”‚   â”œâ”€â”€ SecurityConfig           # ë³´ì•ˆ ì„¤ì •
â”‚   â””â”€â”€ CorsConfig               # CORS ì„¤ì •
â”‚
â”œâ”€â”€ monitoring/                   # ëª¨ë‹ˆí„°ë§
â”‚   â””â”€â”€ CustomMetrics            # Prometheus ë©”íŠ¸ë¦­
â”‚
â””â”€â”€ domain/                       # ì—”í‹°í‹°
    â”œâ”€â”€ Content
    â”œâ”€â”€ User
    â”œâ”€â”€ Webtoon, Webnovel, ...
    â””â”€â”€ PlatformData
```

---

### **3. Data Layer**

#### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- í†µí•© ì½˜í…ì¸  í…Œì´ë¸”
contents (content_id, domain, master_title, created_at, ...)

-- ë„ë©”ì¸ë³„ ìƒì„¸ í…Œì´ë¸”
webtoons (content_id FK, author, genre, ...)
webnovels (content_id FK, author, genre, ...)
games (content_id FK, developer, publisher, ...)
movies (content_id FK, director, runtime, ...)
tv_shows (content_id FK, seasons, episodes, ...)

-- í”Œë«í¼ ë°ì´í„°
platform_data (platform_id, content_id FK, platform_name, 
               platform_specific_id, url, attributes JSONB, ...)

-- í¬ë¡¤ë§ ì„ì‹œ ì €ì¥ì†Œ
raw_items (raw_id, platform_name, domain, source_payload JSONB,
           processed, fetched_at, ...)

-- ì‚¬ìš©ì ë°ì´í„°
users (user_id, username, email, role, ...)
interactions (user_id FK, content_id FK, interaction_type, 
              rating, review_text, ...)

-- ì¶”ì²œ ì‹œìŠ¤í…œ
recommendations (rec_id, user_id FK, content_id FK, 
                 score, reason, created_at, ...)
```

---

## ğŸ”„ ë°ì´í„° íë¦„ (Data Flow)

### **í¬ë¡¤ë§ â†’ ë°°ì¹˜ ì²˜ë¦¬ â†’ ì‚¬ìš©ì ì†Œë¹„**

```
1. í¬ë¡¤ë§ ë‹¨ê³„
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ì™¸ë¶€ ì†ŒìŠ¤    â”‚  (ë„¤ì´ë²„ì›¹íˆ°, Steam, TMDB, ...)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Crawler      â”‚  (ë¹„ë™ê¸° @Async)
   â”‚ - NaverWebtoonCrawler
   â”‚ - SteamCrawlService
   â”‚ - TmdbService
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚CollectorServiceâ”‚  (ì¤‘ë³µ ì²´í¬ + SHA-256 í•´ì‹œ)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ raw_items   â”‚  (JSONB ì›ë³¸ ì €ì¥, processed=false)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. ë°°ì¹˜ ì²˜ë¦¬ ë‹¨ê³„
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ raw_items   â”‚
   â”‚ WHERE processed = false
   â”‚ FOR UPDATE SKIP LOCKED  â† ë³‘ë ¬ ì²˜ë¦¬
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚BatchTransformServiceOptimizedâ”‚
   â”‚ - ê·œì¹™ ìºì‹±
   â”‚ - Hibernate Batch Insert
   â”‚ - ë²Œí¬ ì²˜ë¦¬
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚TransformEngineâ”‚  (YAML ê·œì¹™ ì ìš©)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚UpsertService â”‚  (ì¤‘ë³µ ë³‘í•© + ì €ì¥)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ contents                    â”‚
   â”‚ webtoons/webnovels/games/...â”‚
   â”‚ platform_data               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. ì‚¬ìš©ì ì†Œë¹„ ë‹¨ê³„
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ì‚¬ìš©ì ìš”ì²­   â”‚  (GET /api/contents?domain=WEBTOON)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ContentControllerâ”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ContentServiceâ”‚  (í•„í„°ë§, ì •ë ¬, í˜ì´ì§•)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ DB Query    â”‚  (ì¸ë±ìŠ¤ í™œìš©)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ JSON ì‘ë‹µ   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### **ì¸ì¦/ì¸ê°€ ì „ëµ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Security Layer                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ì‚¬ìš©ì ìš”ì²­                                                  â”‚
â”‚  â”œâ”€â”€ /api/contents/**        â†’ permitAll()                  â”‚
â”‚  â”œâ”€â”€ /api/users/me           â†’ authenticated()              â”‚
â”‚  â””â”€â”€ /api/interactions/**    â†’ authenticated()              â”‚
â”‚                                                              â”‚
â”‚  ê´€ë¦¬ì ìš”ì²­                                                  â”‚
â”‚  â”œâ”€â”€ /api/admin/**           â†’ hasRole("ADMIN")             â”‚
â”‚  â”œâ”€â”€ /api/crawl/**           â†’ hasRole("ADMIN")             â”‚
â”‚  â”œâ”€â”€ /api/batch/**           â†’ hasRole("ADMIN")             â”‚
â”‚  â””â”€â”€ /actuator/**            â†’ hasRole("ADMIN")             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **êµ¬í˜„**

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) {
        http
            .authorizeHttpRequests(auth -> auth
                // ê³µê°œ API
                .requestMatchers("/api/contents/**").permitAll()
                .requestMatchers("/api/health").permitAll()
                
                // ì¸ì¦ í•„ìš”
                .requestMatchers("/api/users/**").authenticated()
                .requestMatchers("/api/interactions/**").authenticated()
                
                // ê´€ë¦¬ì ì „ìš©
                .requestMatchers("/api/admin/**").hasRole("ADMIN")
                .requestMatchers("/api/crawl/**").hasRole("ADMIN")
                .requestMatchers("/api/batch/**").hasRole("ADMIN")
                .requestMatchers("/actuator/**").hasRole("ADMIN")
                
                .anyRequest().authenticated()
            )
            .oauth2ResourceServer(oauth2 -> oauth2.jwt())
            .cors(cors -> cors.configurationSource(corsConfigurationSource()))
            .csrf(csrf -> csrf.disable());  // REST APIëŠ” CSRF ë¶ˆí•„ìš”
        
        return http.build();
    }
    
    @Bean
    public CorsConfigurationSource corsConfigurationSource() {
        CorsConfiguration config = new CorsConfiguration();
        
        // ì‚¬ìš©ì í”„ë¡ íŠ¸ì—”ë“œ
        config.addAllowedOrigin("http://localhost:3000");
        config.addAllowedOrigin("https://aod.example.com");
        
        // ê´€ë¦¬ì í”„ë¡ íŠ¸ì—”ë“œ
        config.addAllowedOrigin("http://localhost:3001");
        config.addAllowedOrigin("https://admin.aod.example.com");
        
        config.addAllowedMethod("*");
        config.addAllowedHeader("*");
        config.setAllowCredentials(true);
        
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", config);
        return source;
    }
}
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### **1. Database ìµœì í™”**

```sql
-- í•„ìˆ˜ ì¸ë±ìŠ¤
CREATE INDEX idx_contents_domain ON contents(domain);
CREATE INDEX idx_contents_master_title ON contents(master_title);
CREATE INDEX idx_raw_processed ON raw_items(processed, fetched_at);
CREATE INDEX idx_platform_data_lookup ON platform_data(platform_name, platform_specific_id);

-- JSONB ì¸ë±ìŠ¤ (í•„ìš”ì‹œ)
CREATE INDEX idx_platform_attributes ON platform_data USING GIN (attributes);
```

### **2. Hibernate ë°°ì¹˜ ì„¤ì •**

```properties
# application.properties (ì´ë¯¸ ì ìš©ë¨)
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.default_batch_fetch_size=50
```

### **3. Connection Pool**

```properties
# HikariCP (ì´ë¯¸ ì„¤ì •ë¨)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
```

### **4. ìºì‹± ì „ëµ (ì„ íƒì‚¬í•­)**

```java
// Redis ìºì‹œ ì¶”ê°€ ì‹œ
@Cacheable(value = "contents", key = "#contentId")
public Content getContent(Long contentId) {
    return contentRepository.findById(contentId).orElse(null);
}

@CacheEvict(value = "contents", key = "#contentId")
public void updateContent(Long contentId, Content content) {
    contentRepository.save(content);
}
```

---

## ğŸ“ˆ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### **ìˆ˜í‰ í™•ì¥ (Scale Out)**

```
í˜„ì¬ (ë‹¨ì¼ ì„œë²„):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Spring Boot  â”‚
â”‚   (8080)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¯¸ë˜ (ë‹¤ì¤‘ ì„œë²„):
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Load Balancerâ”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â†“         â†“         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Server 1 â”‚â”‚Server 2 â”‚â”‚Server 3 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚         â”‚         â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ PostgreSQL  â”‚
        â”‚  (Primary)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ (ì„ íƒì‚¬í•­)**

```
í˜„ì¬: ëª¨ë†€ë¦¬ì‹
AOD-Backend
â”œâ”€â”€ User API
â”œâ”€â”€ Content API
â”œâ”€â”€ Crawling
â””â”€â”€ Batch Processing

ë¯¸ë˜: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”œâ”€â”€ User Service      (8081)
â”œâ”€â”€ Content Service   (8082)
â”œâ”€â”€ Crawling Service  (8083)
â”œâ”€â”€ Batch Service     (8084)
â””â”€â”€ Recommendation Service (8085)
```

---

## ğŸš€ ë°°í¬ ì•„í‚¤í…ì²˜

### **ê°œë°œ í™˜ê²½**

```
ë¡œì»¬ ê°œë°œ:
- ì‚¬ìš©ì í”„ë¡ íŠ¸:  http://localhost:3000
- ê´€ë¦¬ì í”„ë¡ íŠ¸:  http://localhost:3001
- ë°±ì—”ë“œ API:     http://localhost:8080
- PostgreSQL:     localhost:5432
- Prometheus:     http://localhost:9090
- Grafana:        http://localhost:3002
```

### **í”„ë¡œë•ì…˜ í™˜ê²½**

```
ë„ë©”ì¸ êµ¬ì„±:
- ì‚¬ìš©ì:    https://aod.example.com
- ê´€ë¦¬ì:    https://admin.aod.example.com (VPN í•„ìˆ˜)
- API:       https://api.aod.example.com
- ëª¨ë‹ˆí„°ë§:  https://monitor.aod.example.com (ë‚´ë¶€ë§)

ì„œë²„ êµ¬ì„±:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Nginx (Reverse Proxy)         â”‚
â”‚  - SSL/TLS ì¢…ë‹¨                             â”‚
â”‚  - ì •ì  íŒŒì¼ ì„œë¹™                            â”‚
â”‚  - Rate Limiting                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“         â†“         â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚User Appâ”‚â”‚Admin   â”‚â”‚Backend â”‚
   â”‚(React) â”‚â”‚(React) â”‚â”‚(Spring)â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ PostgreSQL  â”‚
                   â”‚   (RDS)     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ëª¨ë‹ˆí„°ë§ ì•„í‚¤í…ì²˜

```
Application (Spring Boot)
    â†“
Spring Actuator
    â†“
Micrometer Metrics
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prometheus    â”‚  (ë©”íŠ¸ë¦­ ìˆ˜ì§‘/ì €ì¥)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Grafana      â”‚  (ì‹œê°í™” ëŒ€ì‹œë³´ë“œ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Alertmanager   â”‚  (ì•Œë¦¼ ë°œì†¡)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ì£¼ìš” ë©”íŠ¸ë¦­**

```java
// CustomMetrics.java (ì´ë¯¸ êµ¬í˜„ë¨)
- crawler.success (í¬ë¡¤ë§ ì„±ê³µ ìˆ˜)
- crawler.failure (í¬ë¡¤ë§ ì‹¤íŒ¨ ìˆ˜)
- crawler.duration (í¬ë¡¤ë§ ì†Œìš” ì‹œê°„)
- crawler.items.processed (ì²˜ë¦¬ í•­ëª© ìˆ˜)
- jvm.memory.used (ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰)
- http.server.requests (API ìš”ì²­ ìˆ˜/ì‘ë‹µ ì‹œê°„)
```

---

## ğŸ“‹ ê¸°ìˆ  ìŠ¤íƒ ì •ë¦¬

### **Frontend**
```
- Framework: React 18 + TypeScript
- Build Tool: Vite
- Routing: React Router v6
- State: Context API / React Query
- HTTP: Axios
- UI: Custom CSS Modules
- Charts: Recharts (Admin)
```

### **Backend**
```
- Framework: Spring Boot 3.x
- Language: Java 17+
- Database: PostgreSQL 14+
- ORM: Spring Data JPA (Hibernate)
- Security: Spring Security + JWT
- Async: ThreadPoolTaskExecutor
- Monitoring: Micrometer + Prometheus
- Crawling: Selenium, JSoup, RestTemplate
```

### **Infrastructure**
```
- Reverse Proxy: Nginx
- Database: PostgreSQL
- Monitoring: Prometheus + Grafana
- Container: Docker (ì„ íƒì‚¬í•­)
- CI/CD: GitHub Actions (ì„ íƒì‚¬í•­)
```

---

## ğŸ¯ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### **Phase 1: í•µì‹¬ ê¸°ëŠ¥ (í˜„ì¬)** âœ…
- [x] í¬ë¡¤ë§ ì‹œìŠ¤í…œ
- [x] ë°°ì¹˜ ì²˜ë¦¬
- [x] ì‚¬ìš©ì API
- [x] ê¸°ë³¸ ëª¨ë‹ˆí„°ë§

### **Phase 2: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ** ğŸ”„
- [ ] ê´€ë¦¬ì í”„ë¡ íŠ¸ì—”ë“œ ìƒì„±
- [ ] í¬ë¡¤ë§ ê´€ë¦¬ UI
- [ ] ë°°ì¹˜ ì²˜ë¦¬ UI
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

### **Phase 3: ìµœì í™”** ğŸ“‹
- [ ] Redis ìºì‹±
- [ ] DB ì½ê¸° ì „ìš© ë³µì œë³¸
- [ ] CDN ì—°ë™
- [ ] API Rate Limiting

### **Phase 4: ê³ ê¸‰ ê¸°ëŠ¥** ğŸ’¡
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
- [ ] ì¶”ì²œ ì‹œìŠ¤í…œ ê³ ë„í™”
- [ ] ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ (í•„ìš”ì‹œ)

---

## ğŸ’¡ ì•„í‚¤í…ì²˜ ì˜ì‚¬ê²°ì • ê¸°ë¡ (ADR)

### **ê²°ì • 1: í”„ë¡ íŠ¸ì—”ë“œ ë¶„ë¦¬**
- **ì„ íƒ**: ì‚¬ìš©ì ì•± + ê´€ë¦¬ì ì•± ë¶„ë¦¬
- **ì´ìœ **: ë³´ì•ˆ, ì„±ëŠ¥, ìœ ì§€ë³´ìˆ˜ì„±
- **íŠ¸ë ˆì´ë“œì˜¤í”„**: ê´€ë¦¬ ë³µì¡ë„ ì¦ê°€

### **ê²°ì • 2: ëª¨ë†€ë¦¬ì‹ ìœ ì§€**
- **ì„ íƒ**: ë‹¨ì¼ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜
- **ì´ìœ **: íŒ€ ê·œëª¨, ê°œë°œ ì†ë„, ì¶©ë¶„í•œ ì„±ëŠ¥
- **ë¯¸ë˜**: í•„ìš”ì‹œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ ê°€ëŠ¥

### **ê²°ì • 3: REST API ê¸°ë°˜**
- **ì„ íƒ**: RESTful API
- **ì´ìœ **: í‘œì¤€í™”, í´ë¼ì´ì–¸íŠ¸ ë…ë¦½ì„±
- **ëŒ€ì•ˆ**: GraphQL (ì¶”í›„ ê³ ë ¤)

### **ê²°ì • 4: ë¹„ë™ê¸° í¬ë¡¤ë§**
- **ì„ íƒ**: @Async + ThreadPoolTaskExecutor
- **ì´ìœ **: ê¸´ ì²˜ë¦¬ ì‹œê°„, ì‘ë‹µì„±
- **íŠ¸ë ˆì´ë“œì˜¤í”„**: ìƒíƒœ ì¶”ì  ë³µì¡

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [ë°°ì¹˜ ì²˜ë¦¬ ìµœì í™” ê°€ì´ë“œ](./batch-performance-optimization.md)
- [ê´€ë¦¬ì UI ë¶„ë¦¬ ì „ëµ](./admin-frontend-separation-strategy.md)
- [í¬ë¡¤ë§ ê°œì„  ë³´ê³ ì„œ](./crawling-improvements.md)
- [ìŠ¤ë ˆë“œ ìì› ê´€ë¦¬](./thread-resource-issues.md)

---

**ì‘ì„±ì¼**: 2025-11-04  
**ë²„ì „**: 1.0  
**ë‹´ë‹¹**: Architecture Team
